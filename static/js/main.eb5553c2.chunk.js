(this["webpackJsonpegamings-test-react"]=this["webpackJsonpegamings-test-react"]||[]).push([[0],{14:function(e,t,a){e.exports={layout:"layout_layout__2mnBN",main:"layout_main__2iU-1",loader:"layout_loader__3kjzx"}},15:function(e,t,a){e.exports={subheader:"subheader_subheader__1Zwzf",subheader__title:"subheader_subheader__title__2NUFv",subheader__found:"subheader_subheader__found__2aUnj"}},18:function(e,t,a){e.exports={header:"header_header__1yaIZ",header__title:"header_header__title__33ZQu"}},28:function(e,t,a){e.exports=a.p+"static/media/nofound.4ab1dace.png"},32:function(e,t,a){e.exports=a(45)},37:function(e,t,a){},38:function(e,t,a){},4:function(e,t,a){e.exports={pagination:"pagination_pagination__2cgg1",pagination__list:"pagination_pagination__list__1EeaX",pagination__button:"pagination_pagination__button__1TI-d","pagination__button--active":"pagination_pagination__button--active__Zni8r","mobile-pagination":"pagination_mobile-pagination__wQzbQ","mobile-pagination__button":"pagination_mobile-pagination__button__3cIo-","mobile-pagination__button--active":"pagination_mobile-pagination__button--active__28K-D","mobile-pagination__count":"pagination_mobile-pagination__count__1MstH"}},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),i=(a(37),a(38),a(14)),l=a.n(i),u=a(6),s=a.n(u),_=a(3),m=a(5),g=a.n(m),f=a(26),b=a(10),p=a.n(b),d=a(17),v=a(1),h=[15,30,50,100],O=Object(v.f)([]),N=Object(v.f)(0),j=Object(v.f)(0),E=Object(v.f)([]),y=Object(v.f)([]),S=Object(v.f)(!1),I=Object(v.f)([]),w=Object(v.f)(h),x=Object(v.f)([]),k=Object(v.f)([1]),C=Object(v.f)(""),D=Object(v.f)(""),J=(Object(v.f)(h[0]),Object(v.f)(h[0])),F=Object(v.f)(1),$=Object(v.f)(1),Q=Object(v.b)({$games:O,$numberOfPages:$,$searchForm:C,$currentCategoryID:D,$numberOfElementsOnPage:J,$currentPage:F,$localStorage:I}),A=Object(v.e)(),M=Object(v.e)(),P=Object(v.e)(),q=Object(v.e)(),z=Object(v.e)(),L=Object(v.e)(),B=Object(v.e)(),T=Object(v.e)(),W=Object(v.e)(),Z=Object(v.e)(),H=Object(v.d)("get request",{handler:function(){return Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})))()}}),K=Object(v.d)("get games array",{handler:function(){return Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return e.next=4,fetch("https://alimzhanovamir.herokuapp.com/games");case 4:return t=e.sent,e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))()}});function U(e){return e.map((function(e){var t=e.ID,a=e.Name;return{ID:t,Name:"string"===typeof a?a:a.en}}))}O.on(K.done,(function(e,t){var a=t.result,n=a.games,r=[],c=Object.keys(a.merchants).map((function(e){return Object(f.a)({},a.merchants[e])})),o=[].concat(Object(_.a)(U(a.categories)),Object(_.a)(U(c))).sort((function(e,t){var a=e.Name,n=t.Name;return a.localeCompare(n)}));q([{ID:"",Name:"All"},{ID:"favorites",Name:"*Favorites"}].concat(Object(_.a)(o))),A(n.length);for(var i=0;i<5;i++){var l=(Math.random()*n.length).toFixed(0);r.push(n[l].ID)}return console.log(r),M(r),console.log(n),n})),N.on(A,(function(e,t){return t})),E.on(M,(function(e,t){return t})),j.on(P,(function(e,t){return t})),x.on(q,(function(e,t){return t})),S.on(K.done,(function(e,t){t.result;return!0})).on(H.done,(function(e,t){t.result;return!1})),C.on(z,(function(e,t){return W(1),t.toLowerCase()})),D.on(L,(function(e,t){return W(1),t})),J.on(B,(function(e,t){return W(1),t})),$.on(W,(function(e,t){return t})),y.on(Q,(function(e,t){console.log("filter");var a,n=I.getState(),r=E.getState(),c=C.getState(),o=D.getState(),i=O.getState();""!==c&&(i=i.filter((function(e){var t=e.Name;return("string"===typeof t?t:t.en).toLowerCase().includes(c)}))),""!==o&&"favorites"!==o&&(i=i.filter((function(e){var t=e.CategoryID;return!o||t.includes(o)}))),"favorites"===o&&(i=i.filter((function(e){var t=e.ID;return!o||n.includes(t)})));var l=[];i=i.filter((function(e){return!n.some((function(t){return t==e.ID}))||(l.push(e),!1)})),l=l.sort((function(e,t){var a=e.Name,n=t.Name;return a.en.localeCompare(n.en)}));var u=[];i=i.filter((function(e){return!r.some((function(t){return t==e.ID}))||(u.push(e),!1)})),u=u.sort((function(e,t){var a=e.Name,n=t.Name;return a.en.localeCompare(n.en)})),i=i.sort((function(e,t){var a=e.Name,n=t.Name;return a.en.localeCompare(n.en)})),console.log(l,u),a=[].concat(Object(_.a)(l),Object(_.a)(u),Object(_.a)(i)),T(a.length);var s=J.getState(),m=$.getState(),g=(m-1)*s,f=m*s,b=a.slice(g,f);return P(a.length),b})),k.on(T,(function(e,t){var a=0,n=[];if(t>0){var r=t/J.getState();a=Math.ceil(r)}if(a>1)for(var c=0;c<a;c++)n.push(c+1);else 1===a&&n.push(1);return n})),I.on(Z,(function(e,t){return localStorage.setItem("favorites",JSON.stringify(t)),JSON.parse(localStorage.getItem("favorites"))}));var R=a(2);var G=function(e){var t=e.id,a=e.inFavorite,n=e.inTop,c=e.imageSrc,o=e.name,i=Object(R.a)(I);return r.a.createElement("article",{className:" ".concat(g.a["game-card"]," ").concat(n?g.a["game-card--top"]:""," ")},r.a.createElement("div",{className:g.a["game-card__cover"]},r.a.createElement("img",{className:g.a["game-card__image"],src:c,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u044b ".concat(o)})),r.a.createElement("h3",{className:g.a["game-card__title"]},o),a?r.a.createElement("button",{className:"".concat(g.a["game-card__button"]," ").concat(g.a["game-card__button--in"]),onClick:function(){return function(e){var t=Object(_.a)(i).filter((function(t){return t!==e}));Z(t)}(t)}},"Remove"):r.a.createElement("button",{className:g.a["game-card__button"],onClick:function(){return function(e){var t=[].concat(Object(_.a)(i),[e]);Z(t)}(t)}},"Add"))},V=a(28),X=a.n(V);var Y=function(){var e=Object(R.a)(y),t=Object(R.a)(E),a=Object(R.a)(I);return e.length?r.a.createElement("ul",{className:s.a.list},e.map((function(e){var n=a.some((function(t){return t==e.ID})),c=t.some((function(t){return t==e.ID}));return r.a.createElement("li",{className:s.a.list__item,key:e.ID},r.a.createElement(G,{id:e.ID,inFavorite:n,inTop:c,imageSrc:e.ImageFullPath,name:e.Name.en}))}))):r.a.createElement("div",{className:s.a["list-empty"]},r.a.createElement("div",{className:s.a["list-empty__inner"]},r.a.createElement("img",{className:s.a["list-empty__image"],src:X.a,alt:""}),r.a.createElement("p",{className:s.a["list-empty__text"]},"Sorry, no games")))},ee=a(18),te=a.n(ee),ae=a(7),ne=a.n(ae);var re=function(){var e=Object(R.a)(C),t=Object(R.a)(w),a=Object(R.a)(x);return r.a.createElement("form",{className:ne.a.filter},r.a.createElement("input",{className:ne.a.filter__search,value:e,onChange:function(e){z(e.target.value)},type:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a","aria-label":"Search"}),r.a.createElement("div",{className:ne.a.filter__selection},r.a.createElement("select",{className:"".concat(ne.a.filter__number," ").concat(ne.a["filter__number--wide"]),onChange:function(e){L(e.target.value)},name:"",id:"","aria-label":"Categories"},a.map((function(e){var t=e.ID,a=e.Name;return r.a.createElement("option",{value:t,key:t},"string"===typeof a?a:a.en)}))),r.a.createElement("select",{className:ne.a.filter__number,onChange:function(e){B(e.target.value)},name:"",id:"","aria-label":"Number of games per page"},t.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))))};var ce=function(){var e=Object(R.a)(N);return r.a.createElement("header",{className:te.a.header},r.a.createElement("h1",{className:te.a.header__title},"Total games: ".concat(e)),r.a.createElement(re,null))},oe=a(19),ie=a(4),le=a.n(ie);var ue=function(){var e,t=Object(oe.useMediaQuery)({query:"(min-width: 768px)"}),a=Object(oe.useMediaQuery)({query:"(max-width: 767px)"}),n=Object(R.a)(k),c=Object(R.a)($);if(t){e=function(e,t){for(var a,n=t,r=e-2,c=e+2+1,o=[],i=[],l=1;l<=n;l++)(1==l||l==n||l>=r&&l<c)&&o.push(l);for(var u=0,s=o;u<s.length;u++){var _=s[u];a&&(_-a===2?i.push(a+1):_-a!==1&&i.push("...")),i.push(_),a=_}return i}(c,n.length)}return t&&n.length>1?r.a.createElement("div",{className:le.a.pagination},r.a.createElement("ul",{className:le.a.pagination__list},r.a.createElement("li",{className:le.a.pagination__item},r.a.createElement("button",{className:"".concat(le.a.pagination__button," ").concat(le.a["pagination__button--prev"]),onClick:function(){return W(--c)},disabled:1===c},"\u041d\u0430\u0437\u0430\u0434")),e.map((function(e,t){return r.a.createElement("li",{className:le.a.pagination__item,key:t},r.a.createElement("button",{className:" ".concat(le.a.pagination__button,"  ").concat(e===c?le.a["pagination__button--active"]:""," "),onClick:function(){return W(e)},disabled:e===c||"number"!==typeof e},e))})),r.a.createElement("li",{className:le.a.pagination__item},r.a.createElement("button",{className:"".concat(le.a.pagination__button," ").concat(le.a["pagination__button--next"]),onClick:function(){return W(++c)},disabled:c===n.length},"\u0412\u043f\u0435\u0440\u0435\u0434")))):a&&n.length>1?r.a.createElement("div",{className:le.a["mobile-pagination"]},r.a.createElement("button",{className:le.a["mobile-pagination__button"],onClick:function(){return W(--c)},disabled:1===c},"\xab"),r.a.createElement("p",{className:le.a["mobile-pagination__count"]},"".concat(c,"/").concat(n.length)),r.a.createElement("button",{className:le.a["mobile-pagination__button"],onClick:function(){return W(++c)},disabled:c===n.length},"\xbb")):null},se=a(15),_e=a.n(se);var me=function(e){var t=Object(R.a)(j);return r.a.createElement("header",{className:_e.a.subheader},r.a.createElement("h1",{className:_e.a.subheader__title},e.title),r.a.createElement("span",{className:_e.a.subheader__found},"Found games: ".concat(t)))};var ge=function(){return Object(R.a)(S)?r.a.createElement("div",{className:l.a.layout},r.a.createElement(ce,null),r.a.createElement("main",{className:l.a.main},r.a.createElement(me,{title:"All games"}),r.a.createElement(ue,null),r.a.createElement(Y,null),r.a.createElement(ue,null))):r.a.createElement("div",{className:l.a.loader},"Loading...")};var fe=function(){return console.log("localStorage =",JSON.parse(localStorage.getItem("favorites"))),JSON.parse(localStorage.getItem("favorites"))?Z(JSON.parse(localStorage.getItem("favorites"))):Z([]),Object(n.useEffect)((function(){console.log("mounted App"),K()}),[]),console.log("render App"),r.a.createElement(ge,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var be=a(31);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be.a,null,r.a.createElement(fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){e.exports={"game-card":"game-card_game-card__3QHR3","game-card--top":"game-card_game-card--top__13JPo","game-card__cover":"game-card_game-card__cover__L-cKS","game-card__image":"game-card_game-card__image__2ymll","game-card__title":"game-card_game-card__title__3en_a","game-card__button":"game-card_game-card__button__3wqNo","game-card__button--in":"game-card_game-card__button--in__36ijv"}},6:function(e,t,a){e.exports={list:"list_list__1GVEx","list-empty":"list_list-empty__1wzOC","list-empty__inner":"list_list-empty__inner__iB0wJ","list-empty__image":"list_list-empty__image__21AEv","list-empty__text":"list_list-empty__text__1cPCq"}},7:function(e,t,a){e.exports={filter:"filter_filter__K3had",filter__selection:"filter_filter__selection__3L_ks",filter__search:"filter_filter__search__2HaQ1",filter__number:"filter_filter__number__21W26","filter__number--wide":"filter_filter__number--wide__W3puv"}}},[[32,1,2]]]);
//# sourceMappingURL=main.eb5553c2.chunk.js.map