(this["webpackJsonpegamings-test-react"]=this["webpackJsonpegamings-test-react"]||[]).push([[0],{14:function(e,a,t){e.exports={layout:"layout_layout__2mnBN",main:"layout_main__2iU-1",loader:"layout_loader__3kjzx"}},15:function(e,a,t){e.exports={subheader:"subheader_subheader__1Zwzf",subheader__title:"subheader_subheader__title__2NUFv",subheader__found:"subheader_subheader__found__2aUnj"}},18:function(e,a,t){e.exports={header:"header_header__1yaIZ",header__title:"header_header__title__33ZQu"}},2:function(e,a,t){e.exports={pagination:"pagination_pagination__2cgg1",pagination__list:"pagination_pagination__list__1EeaX",pagination__button:"pagination_pagination__button__1TI-d","pagination__button--active":"pagination_pagination__button--active__Zni8r","mobile-pagination":"pagination_mobile-pagination__wQzbQ","mobile-pagination__button":"pagination_mobile-pagination__button__3cIo-","mobile-pagination__button--active":"pagination_mobile-pagination__button--active__28K-D","mobile-pagination__count":"pagination_mobile-pagination__count__1MstH"}},28:function(e,a,t){e.exports=t.p+"static/media/nofound.4ab1dace.png"},32:function(e,a,t){e.exports=t(45)},37:function(e,a,t){},38:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(25),i=t.n(c),o=(t(37),t(38),t(14)),l=t.n(o),_=t(5),u=t.n(_),s=t(6),m=t.n(s);var g=function(e){var a=e.imageSrc,t=e.name,n=e.modClass;return r.a.createElement("article",{className:" ".concat(m.a["game-card"]," ").concat(n?m.a["game-card--top"]:null)},r.a.createElement("div",{className:m.a["game-card__cover"]},r.a.createElement("img",{className:m.a["game-card__image"],src:a,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u044b ".concat(t)})),r.a.createElement("h3",{className:m.a["game-card__title"]},t),r.a.createElement("button",{className:m.a["game-card__button"]},"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"))},f=t(3),b=t(4),p=t(26),d=t(10),h=t.n(d),v=t(17),E=t(1),N=[15,30,50,100],O=Object(E.f)([]),j=Object(E.f)(0),y=Object(E.f)(0),w=Object(E.f)([]),x=Object(E.f)(!1),k=Object(E.f)(N),C=Object(E.f)([]),I=Object(E.f)([1]),S=Object(E.f)(""),D=Object(E.f)(""),Q=(Object(E.f)(N[0]),Object(E.f)(N[0])),$=Object(E.f)(1),P=Object(E.f)(1),q=Object(E.b)({$games:O,$numberOfPages:P,$searchForm:S,$currentCategoryID:D,$numberOfElementsOnPage:Q,$currentPage:$}),z=Object(E.e)(),A=Object(E.e)(),L=Object(E.e)(),M=Object(E.e)(),B=Object(E.e)(),F=Object(E.e)(),J=Object(E.e)(),W=Object(E.e)(),Z=Object(E.d)("get request",{handler:function(){return Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})))()}}),H=Object(E.d)("get games array",{handler:function(){return Object(v.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:return e.next=4,fetch("https://alimzhanovamir.herokuapp.com/games");case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))()}});function K(e){return e.map((function(e){var a=e.ID,t=e.Name;return{ID:a,Name:"string"===typeof t?t:t.en}}))}O.on(H.done,(function(e,a){var t=a.result,n=t.games,r=Object.keys(t.merchants).map((function(e){return Object(p.a)({},t.merchants[e])})),c=[].concat(Object(b.a)(K(t.categories)),Object(b.a)(K(r))).sort((function(e,a){var t=e.Name,n=a.Name;return t.localeCompare(n)}));return L([{ID:"",Name:"All"}].concat(Object(b.a)(c))),z(n.length),n})),j.on(z,(function(e,a){return a})),y.on(A,(function(e,a){return a})),C.on(L,(function(e,a){return a})),x.on(H.done,(function(e,a){a.result;return!0})).on(Z.done,(function(e,a){a.result;return!1})),S.on(M,(function(e,a){return W(1),a.toLowerCase()})),D.on(B,(function(e,a){return W(1),a})),Q.on(F,(function(e,a){return W(1),a})),P.on(W,(function(e,a){return a})),w.on(q,(function(e,a){var t=S.getState(),n=D.getState(),r=O.getState();""!==t&&(r=r.filter((function(e){var a=e.Name;return("string"===typeof a?a:a.en).toLowerCase().includes(t)}))),""!==n&&(r=r.filter((function(e){var a=e.CategoryID;return!n||a.includes(n)}))),r=r.sort((function(e,a){var t=e.Name,n=a.Name;return t.en.localeCompare(n.en)})),J(r.length);var c=Q.getState(),i=P.getState(),o=(i-1)*c,l=i*c,_=r.slice(o,l);return A(r.length),_})),I.on(J,(function(e,a){var t=0,n=[];if(a>0){var r=a/Q.getState();t=Math.ceil(r)}if(t>1)for(var c=0;c<t;c++)n.push(c+1);else 1===t&&n.push(1);return n}));var U=t(28),T=t.n(U);var G=function(){var e=Object(f.a)(w);return e.length?r.a.createElement("ul",{className:u.a.list},e.map((function(e){return r.a.createElement("li",{className:u.a.list__item,key:e.ID},r.a.createElement(g,{imageSrc:e.ImageFullPath,name:e.Name.en}))}))):r.a.createElement("div",{className:u.a["list-empty"]},r.a.createElement("div",{className:u.a["list-empty__inner"]},r.a.createElement("img",{className:u.a["list-empty__image"],src:T.a,alt:""}),r.a.createElement("p",{className:u.a["list-empty__text"]},"Sorry, no games")))},R=t(18),V=t.n(R),X=t(7),Y=t.n(X);var ee=function(){var e=Object(f.a)(S),a=Object(f.a)(k),t=Object(f.a)(C);return r.a.createElement("form",{className:Y.a.filter},r.a.createElement("input",{className:Y.a.filter__search,value:e,onChange:function(e){M(e.target.value)},type:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a","aria-label":"Search"}),r.a.createElement("div",{className:Y.a.filter__selection},r.a.createElement("select",{className:"".concat(Y.a.filter__number," ").concat(Y.a["filter__number--wide"]),onChange:function(e){B(e.target.value)},name:"",id:"","aria-label":"Categories"},t.map((function(e){var a=e.ID,t=e.Name;return r.a.createElement("option",{value:a,key:a},"string"===typeof t?t:t.en)}))),r.a.createElement("select",{className:Y.a.filter__number,onChange:function(e){F(e.target.value)},name:"",id:"","aria-label":"Number of games per page"},a.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))))};var ae=function(){var e=Object(f.a)(j);return r.a.createElement("header",{className:V.a.header},r.a.createElement("h1",{className:V.a.header__title},"Total games: ".concat(e)),r.a.createElement(ee,null))},te=t(19),ne=t(2),re=t.n(ne);var ce=function(){var e=Object(te.useMediaQuery)({query:"(min-width: 768px)"}),a=Object(te.useMediaQuery)({query:"(max-width: 767px)"});console.log(e,a);var t,n=Object(f.a)(I),c=Object(f.a)(P);if(e){t=function(e,a){for(var t,n=a,r=e-2,c=e+2+1,i=[],o=[],l=1;l<=n;l++)(1==l||l==n||l>=r&&l<c)&&i.push(l);for(var _=0,u=i;_<u.length;_++){var s=u[_];t&&(s-t===2?o.push(t+1):s-t!==1&&o.push("...")),o.push(s),t=s}return o}(c,n.length),console.log(t)}return e?r.a.createElement("div",{className:re.a.pagination},r.a.createElement("ul",{className:re.a.pagination__list},t.length>1&&r.a.createElement("li",{className:re.a.pagination__item},r.a.createElement("button",{className:"".concat(re.a.pagination__button," ").concat(re.a["pagination__button--prev"]),onClick:function(){return W(--c)},disabled:1===c},"\u041d\u0430\u0437\u0430\u0434")),t.map((function(e,a){return r.a.createElement("li",{className:re.a.pagination__item,key:a},r.a.createElement("button",{className:" ".concat(re.a.pagination__button,"  ").concat(e===c?re.a["pagination__button--active"]:""," "),onClick:function(){return W(e)},disabled:e===c||"number"!==typeof e},e))})),r.a.createElement("li",{className:re.a.pagination__item},t.length>1&&r.a.createElement("button",{className:"".concat(re.a.pagination__button," ").concat(re.a["pagination__button--next"]),onClick:function(){return W(++c)},disabled:c===n.length},"\u0412\u043f\u0435\u0440\u0435\u0434")))):a?r.a.createElement("div",{className:re.a["mobile-pagination"]},r.a.createElement("button",{className:re.a["mobile-pagination__button"],onClick:function(){return W(--c)},disabled:1===c},"\xab"),r.a.createElement("p",{className:re.a["mobile-pagination__count"]},"".concat(c,"/").concat(n.length)),r.a.createElement("button",{className:re.a["mobile-pagination__button"],onClick:function(){return W(++c)},disabled:c===n.length},"\xbb")):null},ie=t(15),oe=t.n(ie);var le=function(e){var a=Object(f.a)(y);return r.a.createElement("header",{className:oe.a.subheader},r.a.createElement("h1",{className:oe.a.subheader__title},e.title),r.a.createElement("span",{className:oe.a.subheader__found},"Found games: ".concat(a)))};var _e=function(){return Object(f.a)(x)?r.a.createElement("div",{className:l.a.layout},r.a.createElement(ae,null),r.a.createElement("main",{className:l.a.main},r.a.createElement(le,{title:"All games"}),r.a.createElement(ce,null),r.a.createElement(G,null),r.a.createElement(ce,null))):r.a.createElement("div",{className:l.a.loader},"Loading...")};var ue=function(){return Object(n.useEffect)((function(){console.log("mounted App"),H()}),[]),console.log("render App"),r.a.createElement(_e,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=t(31);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se.a,null,r.a.createElement(ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,a,t){e.exports={list:"list_list__1GVEx","list-empty":"list_list-empty__1wzOC","list-empty__inner":"list_list-empty__inner__iB0wJ","list-empty__image":"list_list-empty__image__21AEv","list-empty__text":"list_list-empty__text__1cPCq"}},6:function(e,a,t){e.exports={"game-card":"game-card_game-card__3QHR3","game-card--top":"game-card_game-card--top__13JPo","game-card__cover":"game-card_game-card__cover__L-cKS","game-card__image":"game-card_game-card__image__2ymll","game-card__title":"game-card_game-card__title__3en_a","game-card__button":"game-card_game-card__button__3wqNo"}},7:function(e,a,t){e.exports={filter:"filter_filter__K3had",filter__selection:"filter_filter__selection__3L_ks",filter__search:"filter_filter__search__2HaQ1",filter__number:"filter_filter__number__21W26","filter__number--wide":"filter_filter__number--wide__W3puv"}}},[[32,1,2]]]);
//# sourceMappingURL=main.17eccf32.chunk.js.map