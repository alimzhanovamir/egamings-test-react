{"version":3,"sources":["layout/layout.module.scss","components/header/header.module.scss","components/pagination/pagination.module.scss","assets/images/nofound.png","components/game-card/game-card.jsx","store/store.js","components/list/list.jsx","components/filter/filter.jsx","components/header/header.jsx","components/pagination/pagination.jsx","layout/layout.jsx","App.js","serviceWorker.js","index.js","components/list/list.module.scss","components/game-card/game-card.module.scss","components/filter/filter.module.scss"],"names":["module","exports","GameCard","imageSrc","name","modClass","className","cls","src","alt","selectValues","$games","createStore","$filterGames","$loaded","$numbersOfElementsOnPageValues","$categories","$paginationCount","$searchForm","$currentCategoryID","$numberOfElementsOnPage","$currentPage","$numberOfPages","$filterData","combine","setCategories","createEvent","searchChange","setFilterCategory","setNumberOfElementsOnPage","setPagesCount","setNumberOfPages","getRequest","createEffect","handler","loadEffect","fetch","req","json","clearCategoiersArray","array","map","ID","rawName","Name","en","on","done","state","result","arrayFromMerchantsObjects","Object","keys","merchants","key","categoriesArray","categories","sort","a","b","localeCompare","games","toLowerCase","pageNumber","searchString","getState","category","filter","includes","CategoryID","length","numberOfElementsOnPage","numberOfPages","indexFirstElementOfPage","indexLastElementOfPage","slice","numberOfGames","pages","arr","x","Math","ceil","i","push","List","gamesList","useStore","game","ImageFullPath","img","Filter","searchValue","value","onChange","event","target","type","placeholder","id","Header","Pagination","desktop","useMediaQuery","query","mobile","console","log","pagesArray","c","m","l","last","left","right","range","rangeWithDots","pagination","onClick","disabled","page","index","Layout","App","useEffect","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.42f29c4a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"layout_layout__2mnBN\",\"main\":\"layout_main__2iU-1\",\"loader\":\"layout_loader__3kjzx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__1yaIZ\",\"header__title\":\"header_header__title__33ZQu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"pagination_pagination__2cgg1\",\"pagination__list\":\"pagination_pagination__list__1EeaX\",\"pagination__button\":\"pagination_pagination__button__1TI-d\",\"pagination__button--active\":\"pagination_pagination__button--active__Zni8r\",\"mobile-pagination\":\"pagination_mobile-pagination__wQzbQ\",\"mobile-pagination__button\":\"pagination_mobile-pagination__button__3cIo-\",\"mobile-pagination__button--active\":\"pagination_mobile-pagination__button--active__28K-D\",\"mobile-pagination__count\":\"pagination_mobile-pagination__count__1MstH\"};","module.exports = __webpack_public_path__ + \"static/media/nofound.4ab1dace.png\";","import React from \"react\";\r\nimport cls from './game-card.module.scss';\r\n\r\nfunction GameCard({ imageSrc, name, modClass }) {\r\n\treturn (\r\n\t\t<article className={` ${cls['game-card']} ${ modClass ? cls['game-card--top'] : null }`}>\r\n\t\t\t<div className={cls['game-card__cover']}>\r\n\t\t\t\t<img className={cls['game-card__image']} src={imageSrc} alt={`Изображение игры ${name}`}/>\r\n\t\t\t</div>\r\n\t\t\t<h3 className={cls['game-card__title']}>{name}</h3>\r\n\t\t\t<button className={cls['game-card__button']}>В избранное</button>\r\n\t\t</article>\r\n\t)\r\n}\r\n\r\nexport default GameCard\r\n","import {createStore, createEffect, createEvent, combine} from 'effector';\n// import {useStore} from \"effector-react\";\n\nconst selectValues = [15, 30, 50, 100];\n\n// Stores:\nexport const $games = createStore([]);\nexport const $filterGames = createStore([]);\nexport const $loaded = createStore(false);\n\n// Filter stores:\nexport const $numbersOfElementsOnPageValues = createStore(selectValues);\nexport const $categories = createStore([]);\nexport const $paginationCount = createStore([1]);\n\n// Filter elements stores:\nexport const $searchForm = createStore('');\nexport const $currentCategoryID = createStore('');\nexport const $numbersOfElementsOnPage = createStore( selectValues[0] );\nexport const $numberOfElementsOnPage = createStore( selectValues[0] );\nexport const $currentPage = createStore(1);\nexport const $numberOfPages = createStore(1);\nexport const $filterData = combine({\n\t$games,\n\t$numberOfPages,\n\t$searchForm,\n\t$currentCategoryID,\n\t$numberOfElementsOnPage,\n\t$currentPage\n});\n\n\n// Events:\nexport const setCategories = createEvent();\nexport const searchChange = createEvent();\nexport const setFilterCategory = createEvent();\nexport const setNumberOfElementsOnPage = createEvent();\nexport const setPagesCount = createEvent();\nexport const setNumberOfPages = createEvent();\n\n// Effects:\nexport const getRequest = createEffect('get request', {\n\tasync handler() {\n\t\treturn false\n\t}\n});\n\n// Load data effect\nexport const loadEffect = createEffect('get games array',{\n\tasync handler() {\n\t\tawait getRequest();\n\t\tconst req = await fetch('https://alimzhanovamir.herokuapp.com/games');\n\t\treturn await req.json();\n\t}\n});\n\n// On loadEffect done\n$games.on(loadEffect.done, (state, {result}) => {\n\tconst arrayFromMerchantsObjects = Object.keys( result.merchants ).map(function ( key) {\n\t\treturn { ...result.merchants[key] };\n\t});\n\n\tconst categoriesArray = [...clearCategoiersArray(result.categories), ...clearCategoiersArray(arrayFromMerchantsObjects)]\n\t\t.sort( ({Name: a}, {Name: b} ) => {\n\t\t\treturn a.localeCompare(b)\n\t\t});\n\n\tsetCategories( [{ID: '', Name: 'All'}, ...categoriesArray] );\n\t// showList( result.games.slice(0, $numberOfElementsOnPage.getState()) );\n\treturn result.games\n});\n\n// Set categories in store\n$categories.on(setCategories, (state, result) => result);\n\n// Set loaded status\n$loaded\n\t// Set loaded status if request done\n\t.on(loadEffect.done, (state, {result}) => true )\n\t// Set loaded status when sent a request\n\t.on(getRequest.done, (state, {result}) => false );\n\n\n$searchForm.on(searchChange, (state, result) => {\n\tsetNumberOfPages(1);\n\treturn result.toLowerCase()\n} );\n\n$currentCategoryID.on(setFilterCategory, (state, result) => {\n\tsetNumberOfPages(1);\n\treturn result\n});\n\n$numberOfElementsOnPage.on(setNumberOfElementsOnPage, (state, result) => {\n\tsetNumberOfPages(1);\n\treturn result\n});\n\n$numberOfPages.on(setNumberOfPages, (state, pageNumber) => pageNumber );\n\n//\n$filterGames.on($filterData,(state, result) => {\n\tconst searchString = $searchForm.getState();\n\tconst category = $currentCategoryID.getState();\n\tlet games = $games.getState();\n\n\tif ( searchString !== '' ) {\n\t\tgames = games.filter( ({Name}) => {\n\t\t\tconst gameNameString = (typeof Name === 'string' ? Name : Name.en).toLowerCase();\n\t\t\treturn gameNameString.includes(searchString);\n\t\t})\n\t}\n\n\tif ( category !== '' ) {\n\t\tgames = games.filter( ({CategoryID}) => {\n\t\t\treturn category ? CategoryID.includes( category ) : true\n\t\t})\n\t}\n\n\tgames = games.sort( ({Name: a}, {Name: b} ) => {\n\t\treturn a.en.localeCompare(b.en)\n\t});\n\n\tsetPagesCount( games.length );\n\tconst numberOfElementsOnPage = $numberOfElementsOnPage.getState()\n\tconst numberOfPages = $numberOfPages.getState();\n\n\tlet indexFirstElementOfPage = (numberOfPages - 1) * numberOfElementsOnPage\n\n\tconst indexLastElementOfPage = numberOfPages * numberOfElementsOnPage;\n\n\t// console.log(indexFirstElementOfPage, indexLastElementOfPage)\n\tconst res = games.slice( indexFirstElementOfPage, indexLastElementOfPage)\n\t// console.log(res)\n\treturn res\n});\n\n$paginationCount.on(setPagesCount, (state, numberOfGames) => {\n\tlet pages = 0;\n\tconst arr = [];\n\n\tif ( numberOfGames > 0 ) {\n\t\tlet x = numberOfGames / $numberOfElementsOnPage.getState()\n\t\tpages = Math.ceil( x);\n\t\t// console.log(x)\n\t\t// console.log(pages)\n\t}\n\n\tif ( pages > 1 ) {\n\t\tfor (let i = 0; i < pages; i++) {\n\t\t\tarr.push(i+1)\n\t\t}\n\t}\n\telse if ( pages === 1 ) {\n\t\tarr.push(1)\n\t}\n\n\treturn arr\n});\n\n// Util function\nfunction clearCategoiersArray(array) {\n\treturn array.map( ({ID, Name: rawName}) => {\n\t\tconst Name = typeof rawName === 'string' ? rawName : rawName.en;\n\t\treturn {ID, Name}\n\t});\n}\n","import React from \"react\";\r\nimport cls from './list.module.scss';\r\nimport GameCard from \"../game-card/game-card\";\r\nimport {useStore} from \"effector-react\";\r\nimport {$filterGames} from \"../../store/store\";\r\nimport img from '../../assets/images/nofound.png'\r\n\r\nfunction List() {\r\n\tconst gamesList = useStore($filterGames);\r\n\t// console.log(gamesList);\r\n\r\n\tif ( gamesList.length ) {\r\n\t\treturn (\r\n\t\t\t<ul className={cls['list']}>\r\n\t\t\t\t{ gamesList.map( game => (\r\n\t\t\t\t\t<li className={cls['list__item']} key={game.ID}>\r\n\t\t\t\t\t\t<GameCard\r\n\t\t\t\t\t\t\timageSrc={game.ImageFullPath}\r\n\t\t\t\t\t\t\tname={game.Name.en}/>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t\t) }\r\n\t\t\t</ul>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<div className={cls['list-empty']}>\r\n\t\t\t<div className={cls['list-empty__inner']}>\r\n\t\t\t\t<img className={cls['list-empty__image']} src={img} alt=\"\"/>\r\n\t\t\t\t<p className={cls['list-empty__text']}>Sorry, no games</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default List\r\n","import React from \"react\";\r\nimport cls from './filter.module.scss';\r\nimport {\r\n\tloadEffect,\r\n\tsetFilterCategory,\r\n\tsearchChange,\r\n\tsetNumberOfElementsOnPage,\r\n\t$numbersOfElementsOnPageValues,\r\n\t$categories,\r\n\t$searchForm\r\n} from \"../../store/store\";\r\nimport {useStore} from \"effector-react\";\r\n\r\nfunction Filter() {\r\n\t// Stores\r\n\tconst searchValue = useStore($searchForm);\r\n\tconst selectValues = useStore($numbersOfElementsOnPageValues);\r\n\tconst categories = useStore($categories);\r\n\r\n\tconst onSearch = (event) => {\r\n\t\tsearchChange(event.target.value)\r\n\t};\r\n\r\n\tconst onCategryChagne = (event) => {\r\n\t\tsetFilterCategory(event.target.value)\r\n\t};\r\n\r\n\tconst onNumbersChagne = (event) => {\r\n\t\tsetNumberOfElementsOnPage(event.target.value)\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className={cls['filter']}>\r\n\t\t\t<input className={cls['filter__search']} value={searchValue} onChange={onSearch} type=\"text\" placeholder='Поиск'/>\r\n\t\t\t<div className={cls['filter__selection']}>\r\n\t\t\t\t<select className={`${cls['filter__number']} ${cls['filter__number--wide']}`} onChange={onCategryChagne} name=\"\" id=\"\">\r\n\t\t\t\t\t{categories.map( ({ID, Name}) => <option value={ID} key={ID}>{ typeof Name === 'string' ? Name : Name.en }</option> )}\r\n\t\t\t\t</select>\r\n\t\t\t\t<select className={cls['filter__number']} onChange={onNumbersChagne} name=\"\" id=\"\">\r\n\t\t\t\t\t{selectValues.map( value => <option value={value} key={value}>{value}</option> )}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default Filter\r\n","import React from \"react\";\r\nimport cls from './header.module.scss';\r\nimport Filter from \"../filter/filter\";\r\n\r\nfunction Header() {\r\n\r\n\treturn (\r\n\t\t<header className={cls['header']}>\r\n\t\t\t<h1 className={cls['header__title']}>Игры</h1>\r\n\t\t\t<Filter/>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header\r\n","import React from \"react\";\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport cls from './pagination.module.scss';\r\nimport {useStore} from \"effector-react\";\r\nimport {$numberOfPages, $paginationCount, setNumberOfPages} from \"../../store/store\";\r\n\r\nfunction Pagination() {\r\n\tconst desktop = useMediaQuery({ query: '(min-width: 768px)' });\r\n\tconst mobile = useMediaQuery({ query: '(max-width: 767px)' });\r\n\tconsole.log(desktop, mobile)\r\n\tconst pages = useStore($paginationCount);\r\n\tlet numberOfPages = useStore($numberOfPages);\r\n\r\n\t// console.log('Количество страниц = '+pages.length);\r\n\t// console.log('Текущая страница = '+numberOfPages);\r\n\tlet pagesArray;\r\n\tif ( desktop ) {\r\n\t\tfunction pagination(c, m) {\r\n\t\t\tvar current = c,\r\n\t\t\t\tlast = m,\r\n\t\t\t\tdelta = 2,\r\n\t\t\t\tleft = current - delta,\r\n\t\t\t\tright = current + delta + 1,\r\n\t\t\t\trange = [],\r\n\t\t\t\trangeWithDots = [],\r\n\t\t\t\tl;\r\n\r\n\t\t\tfor (let i = 1; i <= last; i++) {\r\n\t\t\t\tif (i == 1 || i == last || i >= left && i < right) {\r\n\t\t\t\t\trange.push(i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i of range) {\r\n\t\t\t\tif (l) {\r\n\t\t\t\t\tif (i - l === 2) {\r\n\t\t\t\t\t\trangeWithDots.push(l + 1);\r\n\t\t\t\t\t} else if (i - l !== 1) {\r\n\t\t\t\t\t\trangeWithDots.push('...');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\trangeWithDots.push(i);\r\n\t\t\t\tl = i;\r\n\t\t\t}\r\n\r\n\t\t\treturn rangeWithDots;\r\n\t\t}\r\n\r\n\t\tpagesArray = pagination(numberOfPages, pages.length);\r\n\t\tconsole.log(pagesArray);\r\n\t}\r\n\r\n\tif ( desktop ) {\r\n\t\treturn (\r\n\t\t\t<div className={cls['pagination']}>\r\n\t\t\t\t<ul className={cls['pagination__list']}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\tpagesArray.length > 1 &&\r\n\t\t\t\t\t<li className={cls['pagination__item']}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName={`${cls['pagination__button']} ${cls['pagination__button--prev']}`}\r\n\t\t\t\t\t\t\tonClick={() => setNumberOfPages(--numberOfPages)}\r\n\t\t\t\t\t\t\tdisabled={numberOfPages === 1 ? true : false}>Назад</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpagesArray.map( (page, index) => {\r\n\t\t\t\t\t\t// console.log(page)\r\n\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t<li className={cls['pagination__item']} key={index}>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName={` ${cls['pagination__button']}  ${ page === numberOfPages ? cls['pagination__button--active'] : '' } `}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setNumberOfPages(page)}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={page === numberOfPages || typeof page !== 'number' ? true : false}>{page}</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<li className={cls['pagination__item']}>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\tpagesArray.length > 1 &&\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName={`${cls['pagination__button']} ${cls['pagination__button--next']}`}\r\n\t\t\t\t\t\t\tonClick={() => setNumberOfPages(++numberOfPages)}\r\n\t\t\t\t\t\t\tdisabled={numberOfPages === pages.length ? true : false}>Вперед</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tif ( mobile ) {\r\n\t\treturn (<div className={cls['mobile-pagination']}>\r\n\t\t\t<button className={cls['mobile-pagination__button']}\r\n\t\t\t\t\t\t\tonClick={() => setNumberOfPages(--numberOfPages)}\r\n\t\t\t\t\t\t\tdisabled={ numberOfPages === 1 ? true : false}>&#xab;</button>\r\n\t\t\t<p className={cls['mobile-pagination__count']}>{`${numberOfPages}/${pages.length}`}</p>\r\n\t\t\t<button className={cls['mobile-pagination__button']}\r\n\t\t\t\t\t\t\tonClick={() => setNumberOfPages(++numberOfPages)}\r\n\t\t\t\t\t\t\tdisabled={ numberOfPages === pages.length ? true : false}>&#xbb;</button>\r\n\t\t</div>)\r\n\t}\r\n\treturn null\r\n}\r\n\r\nexport default Pagination\r\n","import React from \"react\";\r\nimport cls from './layout.module.scss';\r\nimport List from \"../components/list/list\";\r\nimport Header from \"../components/header/header\";\r\nimport Pagination from \"../components/pagination/pagination\";\r\nimport {useStore} from \"effector-react\";\r\nimport {$loaded} from \"../store/store\";\r\n\r\nfunction Layout() {\r\n\tconst loadedFlag = useStore($loaded);\r\n\tif ( loadedFlag ) {\r\n\t\treturn (\r\n\t\t\t<div className={cls['layout']}>\r\n\t\t\t\t<Header/>\r\n\t\t\t\t<main className={cls['main']}>\r\n\t\t\t\t\t<h2>Все игры</h2>\r\n\t\t\t\t\t<Pagination/>\r\n\t\t\t\t\t<List/>\r\n\t\t\t\t\t<Pagination/>\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\telse {\r\n\t\treturn <div className={cls['loader']}>Loading...</div>\r\n\t}\r\n}\r\n\r\nexport default Layout\r\n","import React, { useEffect } from 'react';\r\nimport './App.scss';\r\nimport Layout from './layout/layout';\r\nimport { loadEffect } from \"./store/store\";\r\n\r\nfunction App() {\r\n  useEffect(()=> {\r\n    console.log('mounted App');\r\n    loadEffect();\r\n  }, []);\r\n\r\n  console.log('render App');\r\n  return (\r\n    <Layout/>\r\n  );\r\n\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"list_list__1GVEx\",\"list-empty\":\"list_list-empty__1wzOC\",\"list-empty__inner\":\"list_list-empty__inner__iB0wJ\",\"list-empty__image\":\"list_list-empty__image__21AEv\",\"list-empty__text\":\"list_list-empty__text__1cPCq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"game-card\":\"game-card_game-card__3QHR3\",\"game-card--top\":\"game-card_game-card--top__13JPo\",\"game-card__cover\":\"game-card_game-card__cover__L-cKS\",\"game-card__image\":\"game-card_game-card__image__2ymll\",\"game-card__title\":\"game-card_game-card__title__3en_a\",\"game-card__button\":\"game-card_game-card__button__3wqNo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"filter_filter__K3had\",\"filter__selection\":\"filter_filter__selection__3L_ks\",\"filter__search\":\"filter_filter__search__2HaQ1\",\"filter__number\":\"filter_filter__number__21W26\",\"filter__number--wide\":\"filter_filter__number--wide__W3puv\"};"],"sourceRoot":""}