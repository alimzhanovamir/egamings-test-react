(this["webpackJsonpegamings-test-react"]=this["webpackJsonpegamings-test-react"]||[]).push([[0],{14:function(e,t,a){e.exports={layout:"layout_layout__2mnBN",main:"layout_main__2iU-1",loader:"layout_loader__3kjzx"}},17:function(e,t,a){e.exports={header:"header_header__1yaIZ",header__title:"header_header__title__33ZQu"}},2:function(e,t,a){e.exports={pagination:"pagination_pagination__2cgg1",pagination__list:"pagination_pagination__list__1EeaX",pagination__button:"pagination_pagination__button__1TI-d","pagination__button--active":"pagination_pagination__button--active__Zni8r","mobile-pagination":"pagination_mobile-pagination__wQzbQ","mobile-pagination__button":"pagination_mobile-pagination__button__3cIo-","mobile-pagination__button--active":"pagination_mobile-pagination__button--active__28K-D","mobile-pagination__count":"pagination_mobile-pagination__count__1MstH"}},27:function(e,t,a){e.exports=a.p+"static/media/nofound.4ab1dace.png"},31:function(e,t,a){e.exports=a(44)},36:function(e,t,a){},37:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),i=a.n(c),o=(a(36),a(37),a(14)),l=a.n(o),_=a(5),m=a.n(_),u=a(6),s=a.n(u);var g=function(e){var t=e.imageSrc,a=e.name,n=e.modClass;return r.a.createElement("article",{className:" ".concat(s.a["game-card"]," ").concat(n?s.a["game-card--top"]:null)},r.a.createElement("div",{className:s.a["game-card__cover"]},r.a.createElement("img",{className:s.a["game-card__image"],src:t,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u044b ".concat(a)})),r.a.createElement("h3",{className:s.a["game-card__title"]},a),r.a.createElement("button",{className:s.a["game-card__button"]},"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"))},p=a(3),f=a(4),b=a(25),d=a(10),v=a.n(d),h=a(16),E=a(1),N=[15,30,50,100],O=Object(E.f)([]),j=Object(E.f)([]),y=Object(E.f)(!1),w=Object(E.f)(N),x=Object(E.f)([]),k=Object(E.f)([1]),C=Object(E.f)(""),I=Object(E.f)(""),S=(Object(E.f)(N[0]),Object(E.f)(N[0])),D=Object(E.f)(1),Q=Object(E.f)(1),$=Object(E.b)({$games:O,$numberOfPages:Q,$searchForm:C,$currentCategoryID:I,$numberOfElementsOnPage:S,$currentPage:D}),P=Object(E.e)(),q=Object(E.e)(),L=Object(E.e)(),M=Object(E.e)(),z=Object(E.e)(),A=Object(E.e)(),B=Object(E.d)("get request",{handler:function(){return Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})))()}}),J=Object(E.d)("get games array",{handler:function(){return Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return e.next=4,fetch("https://alimzhanovamir.herokuapp.com/games");case 4:return t=e.sent,e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))()}});function W(e){return e.map((function(e){var t=e.ID,a=e.Name;return{ID:t,Name:"string"===typeof a?a:a.en}}))}O.on(J.done,(function(e,t){var a=t.result,n=Object.keys(a.merchants).map((function(e){return Object(b.a)({},a.merchants[e])})),r=[].concat(Object(f.a)(W(a.categories)),Object(f.a)(W(n))).sort((function(e,t){var a=e.Name,n=t.Name;return a.localeCompare(n)}));return P([{ID:"",Name:"All"}].concat(Object(f.a)(r))),a.games})),x.on(P,(function(e,t){return t})),y.on(J.done,(function(e,t){t.result;return!0})).on(B.done,(function(e,t){t.result;return!1})),C.on(q,(function(e,t){return A(1),t.toLowerCase()})),I.on(L,(function(e,t){return A(1),t})),S.on(M,(function(e,t){return A(1),t})),Q.on(A,(function(e,t){return t})),j.on($,(function(e,t){var a=C.getState(),n=I.getState(),r=O.getState();""!==a&&(r=r.filter((function(e){var t=e.Name;return("string"===typeof t?t:t.en).toLowerCase().includes(a)}))),""!==n&&(r=r.filter((function(e){var t=e.CategoryID;return!n||t.includes(n)}))),r=r.sort((function(e,t){var a=e.Name,n=t.Name;return a.en.localeCompare(n.en)})),z(r.length);var c=S.getState(),i=Q.getState(),o=(i-1)*c,l=i*c;return r.slice(o,l)})),k.on(z,(function(e,t){var a=0,n=[];if(t>0){var r=t/S.getState();a=Math.ceil(r)}if(a>1)for(var c=0;c<a;c++)n.push(c+1);else 1===a&&n.push(1);return n}));var H=a(27),K=a.n(H);var Z=function(){var e=Object(p.a)(j);return e.length?r.a.createElement("ul",{className:m.a.list},e.map((function(e){return r.a.createElement("li",{className:m.a.list__item,key:e.ID},r.a.createElement(g,{imageSrc:e.ImageFullPath,name:e.Name.en}))}))):r.a.createElement("div",{className:m.a["list-empty"]},r.a.createElement("div",{className:m.a["list-empty__inner"]},r.a.createElement("img",{className:m.a["list-empty__image"],src:K.a,alt:""}),r.a.createElement("p",{className:m.a["list-empty__text"]},"Sorry, no games")))},F=a(17),G=a.n(F),R=a(7),T=a.n(R);var U=function(){var e=Object(p.a)(C),t=Object(p.a)(w),a=Object(p.a)(x);return r.a.createElement("form",{className:T.a.filter},r.a.createElement("input",{className:T.a.filter__search,value:e,onChange:function(e){q(e.target.value)},type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a"}),r.a.createElement("div",{className:T.a.filter__selection},r.a.createElement("select",{className:"".concat(T.a.filter__number," ").concat(T.a["filter__number--wide"]),onChange:function(e){L(e.target.value)},name:"",id:""},a.map((function(e){var t=e.ID,a=e.Name;return r.a.createElement("option",{value:t,key:t},"string"===typeof a?a:a.en)}))),r.a.createElement("select",{className:T.a.filter__number,onChange:function(e){M(e.target.value)},name:"",id:""},t.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))))};var V=function(){return r.a.createElement("header",{className:G.a.header},r.a.createElement("h1",{className:G.a.header__title},"\u0418\u0433\u0440\u044b"),r.a.createElement(U,null))},X=a(18),Y=a(2),ee=a.n(Y);var te=function(){var e=Object(X.useMediaQuery)({query:"(min-width: 768px)"}),t=Object(X.useMediaQuery)({query:"(max-width: 767px)"});console.log(e,t);var a,n=Object(p.a)(k),c=Object(p.a)(Q);if(e){a=function(e,t){for(var a,n=t,r=e-2,c=e+2+1,i=[],o=[],l=1;l<=n;l++)(1==l||l==n||l>=r&&l<c)&&i.push(l);for(var _=0,m=i;_<m.length;_++){var u=m[_];a&&(u-a===2?o.push(a+1):u-a!==1&&o.push("...")),o.push(u),a=u}return o}(c,n.length),console.log(a)}return e?r.a.createElement("div",{className:ee.a.pagination},r.a.createElement("ul",{className:ee.a.pagination__list},a.length>1&&r.a.createElement("li",{className:ee.a.pagination__item},r.a.createElement("button",{className:"".concat(ee.a.pagination__button," ").concat(ee.a["pagination__button--prev"]),onClick:function(){return A(--c)},disabled:1===c},"\u041d\u0430\u0437\u0430\u0434")),a.map((function(e,t){return r.a.createElement("li",{className:ee.a.pagination__item,key:t},r.a.createElement("button",{className:" ".concat(ee.a.pagination__button,"  ").concat(e===c?ee.a["pagination__button--active"]:""," "),onClick:function(){return A(e)},disabled:e===c||"number"!==typeof e},e))})),r.a.createElement("li",{className:ee.a.pagination__item},a.length>1&&r.a.createElement("button",{className:"".concat(ee.a.pagination__button," ").concat(ee.a["pagination__button--next"]),onClick:function(){return A(++c)},disabled:c===n.length},"\u0412\u043f\u0435\u0440\u0435\u0434")))):t?r.a.createElement("div",{className:ee.a["mobile-pagination"]},r.a.createElement("button",{className:ee.a["mobile-pagination__button"],onClick:function(){return A(--c)},disabled:1===c},"\xab"),r.a.createElement("p",{className:ee.a["mobile-pagination__count"]},"".concat(c,"/").concat(n.length)),r.a.createElement("button",{className:ee.a["mobile-pagination__button"],onClick:function(){return A(++c)},disabled:c===n.length},"\xbb")):null};var ae=function(){return Object(p.a)(y)?r.a.createElement("div",{className:l.a.layout},r.a.createElement(V,null),r.a.createElement("main",{className:l.a.main},r.a.createElement("h2",null,"\u0412\u0441\u0435 \u0438\u0433\u0440\u044b"),r.a.createElement(te,null),r.a.createElement(Z,null),r.a.createElement(te,null))):r.a.createElement("div",{className:l.a.loader},"Loading...")};var ne=function(){return Object(n.useEffect)((function(){console.log("mounted App"),J()}),[]),console.log("render App"),r.a.createElement(ae,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=a(30);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(re.a,null,r.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){e.exports={list:"list_list__1GVEx","list-empty":"list_list-empty__1wzOC","list-empty__inner":"list_list-empty__inner__iB0wJ","list-empty__image":"list_list-empty__image__21AEv","list-empty__text":"list_list-empty__text__1cPCq"}},6:function(e,t,a){e.exports={"game-card":"game-card_game-card__3QHR3","game-card--top":"game-card_game-card--top__13JPo","game-card__cover":"game-card_game-card__cover__L-cKS","game-card__image":"game-card_game-card__image__2ymll","game-card__title":"game-card_game-card__title__3en_a","game-card__button":"game-card_game-card__button__3wqNo"}},7:function(e,t,a){e.exports={filter:"filter_filter__K3had",filter__selection:"filter_filter__selection__3L_ks",filter__search:"filter_filter__search__2HaQ1",filter__number:"filter_filter__number__21W26","filter__number--wide":"filter_filter__number--wide__W3puv"}}},[[31,1,2]]]);
//# sourceMappingURL=main.42f29c4a.chunk.js.map